Grammatica testen:

MusicXML Grammatica
-Bevat al alle regels, terminals & variabelen, BEHALVE rusten. Check grammars/xmls/MusicXML_testOctave_rest.xml
voor een voorbeeld van een rust. Hiervoor moeten de benodigde variabelen, terminals en productieregels worden aangemaakt in de grammatica.

Hoe werkt de grammatica:
-Als we bv de file hebben:

<music>
	<noot naam="do">abc</noot>
	...nog noten...
</music>

en we weten dat dit een correcte xml file is dan kunnen we de grammatica definiÃ«ren als volgt:

TERMINALS: <music>,</music>,<noot naam=",">,a,b,c,</noot>
VARIABELEN: START,NOOT,ALPHA
PRODUCTIES:
	START -> <music>,NOOT,</music>
	NOOT -> NOOT,NOOT
	NOOT -> 
	NOOT -> <noot naam=",ALPHA,">,ALPHA,</noot>
	ALPHA -> ALPHA,ALPHA
	ALPHA -> a
	ALPHA -> b
	ALPHA -> c (...In de musicXML grammatica heel het alphabet , ook ALPHA_C(capitals), en NUMERIC, DOT, DASH)
	ALPHA -> 

Het juiste gebruik van spaties is cruciaal in de grammatica, elk kleinste typfoutje zorgt ervoor dat
een correcte xml niet geaccepteerd wordt, als je bijvoorbeeld in de eerste regel 
START -> <music>,NOOT,</music > zou hebben geschreven, dan wordt een correcte grammatica niet geaccepteerd
omdat hij geen spatie heeft in het afsluitende music element.

op de git in grammars/xmls staan voorbeeld correcte bestanden voor MusicXML en MEI. alle voorbeeldbestanden moeten geaccepteerd worden. zoniet is de grammatica verkeerd.

Hoe testen of een XML correct is volgens de grammatica:

de main in git/CFG_CYK_CNF_FINAL is al grotendeels klaargezet hiervoor.

1) CFG contextFree(argv[1]) , neem het eerste argument dat op command line is gegeven als de grammatica voor het xml formaat. dus: ./EXECUTABLE MusicXML_Grammar.xml , maakt een CFG aan die de MusicXML grammatica voorstelt.

2) CNF normalForm(&contextFree), draai die grammatica door de prachtig geprogrammeerde cnf ;) en doe normalForm.run()

3) CYK algo(contextFree), initialiseer het CYK algoritme met de door jou getransformeerde grammatica.

4) Formatter _autoFormat(argv[2]), dit klopt niet in de main op de git, bij jou nieuwe versie van de formatter geef je een xml bestand mee om te formatten (je testFile waarvan je weet dat hij correct is). deze is het tweede argument bij commandline: ./EXECUTABLE MusicXML_Grammar.xml correcte_xml_file

5) algo.testString(_autoFormat.getFormatedVersion()), laat het CYK algoritme de door jou meegegeven xml file testen tegen de door jou gekozen grammatica. als de grammatica correct was returnt algo.testString(...) true, indien niet false.













